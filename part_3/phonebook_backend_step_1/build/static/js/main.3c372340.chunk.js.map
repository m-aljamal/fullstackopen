{"version":3,"sources":["components/Person.js","components/CreateNew.js","components/backend.js","components/Message.js","App.js","index.js"],"names":["Person","person","name","number","id","deleteContact","style","margin","marginRight","onClick","CreateNew","handleSubmit","useState","formData","setFormData","handleChange","e","target","value","onSubmit","preventDefault","type","onChange","baseUrl","getAll","a","axios","get","res","data","create","post","remove","delete","update","put","Message","message","className","App","persons","setPersons","serchName","setSerchName","setMessage","useEffect","backend","getData","addMessage","setTimeout","checkName","find","window","confirm","map","concat","console","log","then","filter","catch","err","per","toLowerCase","includes","length","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c372340.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person: { name, number, id }, deleteContact }) => {\r\n  const handleDelete = () => {\r\n    deleteContact(id, name);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ margin: \"20px\" }}>\r\n        <span style={{ marginRight: \"15px\" }}>\r\n          {name} {number}\r\n        </span>\r\n        <button onClick={handleDelete}>delete</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React, { useState } from \"react\";\r\n\r\nconst CreateNew = ({ handleSubmit }) => {\r\n  const [formData, setFormData] = useState({ name: \"\", number: \"\" });\r\n  const { name, number } = formData;\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  const createNew = (e) => {\r\n    e.preventDefault();\r\n    handleSubmit(formData);\r\n    setFormData({ name: \"\", number: \"\" });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={createNew}>\r\n      <div>\r\n        Name:{\" \"}\r\n        <input type=\"text\" value={name} name=\"name\" onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        Number:{\" \"}\r\n        <input\r\n          type=\"text\"\r\n          value={number}\r\n          name=\"number\"\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateNew;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\nconst getAll = async () => {\r\n  const res = await axios.get(baseUrl);\r\n  return res.data;\r\n};\r\n\r\nconst create = async (data) => {\r\n  const res = await axios.post(baseUrl, data);\r\n  return res.data;\r\n};\r\n\r\nconst remove = async (id) => {\r\n  await axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst update = async (id, data) => {\r\n  const res = await axios.put(`${baseUrl}/${id}`, data);\r\n  return res.data;\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update,\r\n};\r\n","import React from \"react\";\r\n\r\nconst Message = ({ message: { message, type } }) => {\r\n  return (\r\n    <div className={type }>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Person from \"./components/Person\";\nimport CreateNew from \"./components/CreateNew\";\nimport backend from \"./components/backend\";\nimport Message from \"./components/Message\";\nfunction App() {\n  const [persons, setPersons] = useState([]);\n\n  const [serchName, setSerchName] = useState([]);\n\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    const getData = async () => {\n      const res = await backend.getAll();\n\n      setPersons(res);\n    };\n\n    getData();\n  }, []);\n\n  const addMessage = (message, type) => {\n    setMessage({ message, type });\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n  const handleSubmit = async (value) => {\n    const { name, number } = value;\n\n    const checkName = persons.find((person) => person.name === name);\n\n    if (checkName) {\n      const confirm = window.confirm(\n        `${name} is already added to phonebook, replace the old number with new one? `\n      );\n      if (confirm) {\n        try {\n          const res = await backend.update(checkName.id, { name, number });\n          setPersons(\n            persons.map((person) => (person.id !== checkName.id ? person : res))\n          );\n          addMessage(`Number updated ${number}`, \"update\");\n        } catch (error) {\n          addMessage(\n            `Contact for ${name} has already been removed from server`,\n            \"remove\"\n          );\n        }\n      }\n    } else {\n      try {\n        const res = await backend.create({ name, number });\n        setPersons(persons.concat(res));\n\n        addMessage(`Added ${name}`, \"add\");\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const handleSerch = (e) => {\n    const serchName = persons.filter((per) =>\n      per.name.toLowerCase().includes(e.target.value.toLowerCase())\n    );\n    serchName && setSerchName(serchName);\n  };\n\n  const deleteContact = (id, name) => {\n    const confirm = window.confirm(`delete ${name} ?`);\n    if (confirm) {\n      backend\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id));\n          addMessage(`removed ${name}`, \"delete\");\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n      {message && <Message message={message} />}\n\n      <div>\n        Serch: <input type=\"text\" onChange={handleSerch} />\n      </div>\n      <h3>Add new </h3>\n      <CreateNew handleSubmit={handleSubmit} />\n\n      <h2>Numbers</h2>\n\n      {serchName.length > 0\n        ? serchName.map((person) => <Person key={person.id} person={person} />)\n        : persons &&\n          persons.map((person) => (\n            <Person\n              key={person.id}\n              person={person}\n              deleteContact={deleteContact}\n            />\n          ))}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}